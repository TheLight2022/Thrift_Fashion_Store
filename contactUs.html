<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <!-- AngularJS -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-route.min.js"></script> -->
    <!-- Jquery -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script> -->
    <!-- CSS -->
    <link rel="stylesheet" href="./css/contactUs.css">
    <link rel="stylesheet" href="./css/set.css">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/register-login.css">
    <link rel="stylesheet" href="./css/grid.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="./css/fontawesome-pro-6.1.0-web/css/all.css">
</head>
<body style="background: none;">

    <div id="banner" class="contacts" style="background-image: url(img/banner-contact.jpg)">
        <div class="banner-text">
            <h2>Contact</h2>
        </div>
    </div>

    <div id="contact-us">
        <div class="main">
            <div class="grid wide">
                <div class="row">
                    <div class="col l-4 m-12 c-12">
                        <div class="contact-widget">
                            <div class="cw-item p24">
                                <i class="fa-solid fa-location-dot"></i>
                                <p>12 23rd Street SE, Hickory, NC</p>
                            </div>
                            <div class="cw-item p24">
                                <i class="fa-solid fa-envelope"></i>
                                <p>contact@richfieldchairs.com</p>
                            </div>
                            <div class="cw-item p24">
                                <i class="fa-solid fa-phone"></i>
                                <p>+1 (828) 324-7992</p>
                            </div>
                            <ul>
                                <li><a href="#"><i class="fa-brands fa-facebook-f"></i></a></li>
                                <li><a href="#"><i class="fa-brands fa-pinterest-p"></i></a></li>
                                <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
                                <li><a href="#"><i class="fa-brands fa-twitter"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col l-8 m-12 c-12">
                        <div class="contact-content-form">
                            <form action=""  method="POST" class="form" id="form-1">
                                <div class="row">
                                    <div class="col l-6 m-12 c-12">
                                        <div class="form-group contact-form-input">
                                            <input id="first-name" name="first-name" type="text" placeholder="First Name" class="form-control">
                                            <span class="form-message"></span>
                                        </div>
                                    </div>
                                    <div class="col l-6 m-12 c-12">
                                        <div class="form-group contact-form-input">
                                            <input id="last-name" name="last-name" type="text" placeholder="Last Name" class="form-control">
                                            <span class="form-message"></span>
                                        </div>
                                    </div>
                                    <div class="col l-6 m-12 c-12">
                                        <div class="form-group contact-form-input">
                                            <input id="phone" name="phone" type="tel" placeholder="Phone number" class="form-control">
                                            <span class="form-message"></span>
                                        </div>
                                    </div>
                                    <div class="col l-6 m-12 c-12">
                                        <div class="form-group contact-form-input">
                                            <input id="phone" name="phone" type="tel" placeholder="Phone number" class="form-control">
                                            <span class="form-message"></span>
                                        </div>
                                    </div>
                                    <div class="col l-12 m-12 c-12">
                                        <div class="form-group contact-form-input">
                                            <input id="title" name="title" type="tel" placeholder="Title" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col l-12 m-12 c-12">
                                        <textarea name="text" id="" cols="98" rows="6" placeholder="Message"></textarea>
                                        <button class="contact-btn form-submit" type="submit">Submit</button>
                                    </div>                                    
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col l-12 m-12 c-12">
                        <div class="contactUs-map">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d931.0243399153137!2d105.78179244454334!3d21.02879005623361!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135ab86cece9ac1%3A0xa9bc04e04602dd85!2zRlBUIEFwdGVjaCBIw6AgTuG7mWkgLSBI4buHIFRo4buRbmcgxJDDoG8gVOG6oW8gTOG6rXAgVHLDrG5oIFZpw6puIFF14buRYyBU4bq_IChTaW5jZSAxOTk5KQ!5e0!3m2!1svi!2s!4v1643013928624!5m2!1svi!2s" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="js/validate.js"></script>

    <script>

        document.addEventListener('DOMContentLoaded', function () {
          // Mong muốn của chúng ta
          Validator({
            form: '#form-1',
            formGroupSelector: '.form-group',
            errorSelector: '.form-message',
            rules: [
              Validator.isRequired('#first-name', 'Please enter first name'),
              Validator.isRequired('#last-name', 'Please enter last name'),
              Validator.isPhone('#phone'),
              Validator.isEmail('#email'),
              Validator.isRequired('#city', 'Please enter city'),
              Validator.isRequired('#district', 'Please enter district'),
              Validator.isRequired('#detail-address', 'Please enter details address'),
              Validator.minLength('#card-number', 10),
              Validator.isRequired('#name-in-card', 'Please enter name in card'),
              Validator.isDate('#mm-yy'),
              Validator.isCcv('#ccv'),
              Validator.isRequired('#password_confirmation'),
              Validator.isConfirmed('#password_confirmation', function () {
                return document.querySelector('#form-1 #password').value;
              }, '')
            ],
            onSubmit: function (data) {
              // Call API
              console.log(data);
            }
          });
  
  
          Validator({
            form: '#form-2',
            formGroupSelector: '.form-group',
            errorSelector: '.form-message',
            rules: [
              Validator.isEmail('#email'),
              Validator.minLength('#password', 6),
            ],
            onSubmit: function (data) {
              // Call API
              console.log(data);
            }
          });
        });


    /*----------------*/
        function Validator(options) {
            function getParent(element, selector) {
                while (element.parentElement) {
                    if (element.parentElement.matches(selector)) {
                        return element.parentElement;
                    }
                    element = element.parentElement;
                }
            }

            var selectorRules = {};

            function validate(inputElement, rule) {
                var errorElement = getParent(inputElement, options.formGroupSelector).querySelector(options.errorSelector);
                var errorMessage;

                var rules = selectorRules[rule.selector];

                for (var i = 0; i < rules.length; ++i) {
                    switch (inputElement.type) {
                        case 'radio':
                        case 'checkbox':
                            errorMessage = rules[i](
                                formElement.querySelector(rule.selector + ':checked')
                            );
                            break;
                        default:
                            errorMessage = rules[i](inputElement.value);
                    }
                    if (errorMessage) break;
                }

                if (errorMessage) {
                    errorElement.innerText = errorMessage;
                    getParent(inputElement, options.formGroupSelector).classList.add('invalid');
                } else {
                    errorElement.innerText = '';
                    getParent(inputElement, options.formGroupSelector).classList.remove('invalid');
                }

                return !errorMessage;
            }


            var formElement = document.querySelector(options.form);
            if (formElement) {

                formElement.onsubmit = function (e) {
                    e.preventDefault();

                    var isFormValid = true;

                    options.rules.forEach(function (rule) {
                        var inputElement = formElement.querySelector(rule.selector);
                        var isValid = validate(inputElement, rule);
                        if (!isValid) {
                            isFormValid = false;
                        }
                    });

                    if (isFormValid) {

                        if (typeof options.onSubmit === 'function') {
                            var enableInputs = formElement.querySelectorAll('[name]');
                            var formValues = Array.from(enableInputs).reduce(function (values, input) {

                                switch (input.type) {
                                    case 'radio':
                                        values[input.name] = formElement.querySelector('input[name="' + input.name + '"]:checked').value;
                                        break;
                                    case 'checkbox':
                                        if (!input.matches(':checked')) {
                                            values[input.name] = '';
                                            return values;
                                        }
                                        if (!Array.isArray(values[input.name])) {
                                            values[input.name] = [];
                                        }
                                        values[input.name].push(input.value);
                                        break;
                                    case 'file':
                                        values[input.name] = input.files;
                                        break;
                                    default:
                                        values[input.name] = input.value;
                                }

                                return values;
                            }, {});
                            options.onSubmit(formValues);
                        }

                        else {
                            formElement.submit();
                        }
                    }
                }

                options.rules.forEach(function (rule) {

                    if (Array.isArray(selectorRules[rule.selector])) {
                        selectorRules[rule.selector].push(rule.test);
                    } else {
                        selectorRules[rule.selector] = [rule.test];
                    }

                    var inputElements = formElement.querySelectorAll(rule.selector);

                    Array.from(inputElements).forEach(function (inputElement) {

                        inputElement.onblur = function () {
                            validate(inputElement, rule);
                        }


                        inputElement.oninput = function () {
                            var errorElement = getParent(inputElement, options.formGroupSelector).querySelector(options.errorSelector);
                            errorElement.innerText = '';
                            getParent(inputElement, options.formGroupSelector).classList.remove('invalid');
                        }
                    });
                });
            }

        }



        Validator.isRequired = function (selector, message) {
            return {
                selector: selector,
                test: function (value) {
                    return value ? undefined : message || 'please enter this field'
                }
            };
        }

        Validator.isEmail = function (selector, message) {
            return {
                selector: selector,
                test: function (value) {
                    var regex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                    return regex.test(value) ? undefined : message || 'This field must be email';
                }
            };
        }

        Validator.isPhone = function (selector, message) {
            return {
                selector: selector,
                test: function (value) {
                    var regex = /^(\+{0,})(\d{0,})([(]{1}\d{1,3}[)]{0,}){0,}(\s?\d+|\+\d{2,3}\s{1}\d+|\d+){1}[\s|-]?\d+([\s|-]?\d+){1,2}(\s){0,}$/;
                    return regex.test(value) ? undefined : message || 'This field must be phone number';
                }
            };
        }

        Validator.isDate = function (selector, message) {
            return {
                selector: selector,
                test: function (value) {
                    var regex = / ^(0[1-9]|1[0-2])\/?([0-9]{2})$/;
                    return regex.test(value) ? undefined : message || 'Please re-enter';
                }
            };
        }

        Validator.isCcv = function (selector, message) {
            return {
                selector: selector,
                test: function (value) {
                    var regex = /^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/;
                    return regex.test(value) ? undefined : message || 'Please re-enter';
                }
            };
        }


        Validator.minLength = function (selector, min, message) {
            return {
                selector: selector,
                test: function (value) {
                    return value.length >= min ? undefined : message || `Please enter at least ${min} characters`;
                }
            };
        }

        Validator.isConfirmed = function (selector, getConfirmValue, message) {
            return {
                selector: selector,
                test: function (value) {
                    return value === getConfirmValue() ? undefined : message || 'Input value is incorrect';
                }
            }
        }
    

    </script>

</body>
</html>